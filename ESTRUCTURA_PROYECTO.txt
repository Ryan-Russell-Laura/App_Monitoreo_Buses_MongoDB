ESTRUCTURA COMPLETA - MONITOREO DE RUTAS DE BUSES
================================================

ğŸ“¦ CARPETA RAÃZ: proyecto/
â”‚
â”œâ”€â”€ ğŸ“‚ server/ (Backend Node.js/Express)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ database.js (ConexiÃ³n MongoDB)
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â””â”€â”€ auth.js (VerificaciÃ³n JWT)
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ Usuario.js (Schema Usuario + encriptaciÃ³n)
â”‚   â”‚   â”‚   â”œâ”€â”€ Bus.js (Schema Bus)
â”‚   â”‚   â”‚   â”œâ”€â”€ Ruta.js (Schema Ruta)
â”‚   â”‚   â”‚   â””â”€â”€ ViajeDiario.js (Schema ViajeDiario + sub-schemas)
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js (POST /register, POST /login)
â”‚   â”‚   â”‚   â”œâ”€â”€ buses.js (GET, POST buses)
â”‚   â”‚   â”‚   â”œâ”€â”€ rutas.js (GET, POST rutas)
â”‚   â”‚   â”‚   â””â”€â”€ viajeDiario.js (CRUD completo: POST, GET, PUT, DELETE)
â”‚   â”‚   â””â”€â”€ server.js (Express server principal)
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ğŸ“‚ client/ (Frontend React + TypeScript)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â””â”€â”€ ViajeDiarioForm.tsx (Formulario CREATE/EDIT viajes)
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.tsx (GestiÃ³n autenticaciÃ³n)
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx (Login + Register)
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx (PÃ¡gina principal)
â”‚   â”‚   â”‚   â”œâ”€â”€ Monitoreo.tsx (CRUD viajes + filtros)
â”‚   â”‚   â”‚   â””â”€â”€ Buses.tsx (GestiÃ³n buses)
â”‚   â”‚   â”œâ”€â”€ api.ts (Utilidad llamadas API)
â”‚   â”‚   â”œâ”€â”€ types.ts (Tipos TypeScript)
â”‚   â”‚   â”œâ”€â”€ router.ts (Rutas de navegaciÃ³n)
â”‚   â”‚   â”œâ”€â”€ index.css (Estilos Tailwind)
â”‚   â”‚   â”œâ”€â”€ App.tsx (Componente principal)
â”‚   â”‚   â”œâ”€â”€ main.tsx (Entry point)
â”‚   â”‚   â””â”€â”€ vite-env.d.ts (Tipos Vite)
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ tsconfig.node.json
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ postcss.config.js
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ğŸ“„ README_INSTRUCCIONES.md (GUÃA DE INSTALACIÃ“N COMPLETA)
â”œâ”€â”€ ğŸ“„ ARQUITECTURA.md (Diagramas y flujos del sistema)
â””â”€â”€ ğŸ“„ ESTRUCTURA_PROYECTO.txt (Este archivo)


CARACTERÃSTICAS IMPLEMENTADAS
=============================

âœ… AUTENTICACIÃ“N JWT
   - Registro de usuarios con rol (Admin, Programador, Conductor)
   - Login seguro con contraseÃ±as encriptadas (bcryptjs 10 rounds)
   - Token JWT con expiraciÃ³n 24h
   - VerificaciÃ³n en todas las rutas protegidas

âœ… 4 SCHEMAS MONGOOSE
   1. USUARIO: nombre, email (Ãºnico), password (hash), rol
   2. BUS: placa (Ãºnica), modelo, capacidad, mantenimiento
   3. RUTA: nombreRuta, origen, destino, duracionEstimada
   4. VIAJE_DIARIO: rutaId, busId, conductorId, + 2 sub-schemas

âœ… DOCUMENTOS ANIDADOS (NoSQL)
   - horario: {salidaProgramada, salidaReal, llegadaProgramada, llegadaReal}
   - monitoreoCombustible: {nivelInicial, nivelFinal, consumo}

âœ… CRUD COMPLETO VIAJE_DIARIO
   - POST /api/viajes-diarios - Crear
   - GET /api/viajes-diarios - Listar todos
   - GET /api/viajes-diarios/:id - Obtener uno
   - PUT /api/viajes-diarios/:id - Actualizar
   - DELETE /api/viajes-diarios/:id - Eliminar

âœ… CRUD SIMPLE
   - Buses: GET, POST
   - Rutas: GET, POST

âœ… FRONTEND RESPONSIVE
   - Mobile: < 640px
   - Tablet: 640px - 1024px
   - Desktop: > 1024px

âœ… FUNCIONALIDADES ADICIONALES
   - Filtros por fecha, ruta, conductor
   - Selectores dinÃ¡micos en formularios
   - ValidaciÃ³n frontend y backend
   - Manejo de errores
   - Interfaz intuitiva con Tailwind CSS
   - Iconos con Lucide React


STACK TECNOLÃ“GICO
=================

FRONTEND:
- React 18.3.1
- TypeScript 5.5.3
- Tailwind CSS 3.4.1
- Lucide React 0.344.0
- Vite 5.4.2

BACKEND:
- Node.js 18+
- Express 4.18.2
- Mongoose 8.0.3
- JWT (jsonwebtoken 9.1.2)
- bcryptjs 2.4.3
- CORS 2.8.5

BASE DE DATOS:
- MongoDB (Atlas) con schemas Mongoose
- Collections: usuarios, buses, rutas, viajesdiarios


ENDPOINTS API
=============

AUTENTICACIÃ“N (SIN JWT):
POST /api/auth/register
  Body: {nombre, email, password, rol}

POST /api/auth/login
  Body: {email, password}
  Response: {token, usuario}

PROTEGIDOS (REQUIEREN JWT):

BUSES:
GET /api/buses
POST /api/buses {placa, modelo, capacidad, mantenimiento}

RUTAS:
GET /api/rutas
POST /api/rutas {nombreRuta, origen, destino, duracionEstimada}

VIAJES DIARIOS (CRUD):
POST /api/viajes-diarios
  Body: {rutaId, busId, conductorId, horario, monitoreoCombustible, estado, observaciones}

GET /api/viajes-diarios
GET /api/viajes-diarios/:id

PUT /api/viajes-diarios/:id
  Body: campos a actualizar

DELETE /api/viajes-diarios/:id


VARIABLES DE ENTORNO
====================

SERVIDOR (.env):
MONGO_URI=mongodb+srv://usuario:password@cluster.mongodb.net/monitoreo_buses
JWT_SECRET=tu_secret_key_muy_seguro_2024
PORT=5000
NODE_ENV=development

CLIENTE (.env):
VITE_API_URL=http://localhost:5000/api


INSTALACIÃ“N RÃPIDA
==================

1. BACKEND:
   cd server
   npm install
   cp .env.example .env
   (Editar .env con MongoDB URI)
   npm run dev

2. FRONTEND (en otra terminal):
   cd client
   npm install
   cp .env.example .env
   npm run dev

3. ACCEDER:
   http://localhost:3000


ARCHIVOS IMPORTANTES
====================

ğŸ“Œ README_INSTRUCCIONES.md â†’ GUÃA PASO A PASO PARA INSTALAR
ğŸ“Œ ARQUITECTURA.md â†’ Diagramas y flujos tÃ©cnicos
ğŸ“Œ server/README.md â†’ DocumentaciÃ³n backend
ğŸ“Œ client/README.md â†’ DocumentaciÃ³n frontend


SEGURIDAD
=========

âœ… ContraseÃ±as encriptadas con bcryptjs (10 rounds)
âœ… JWT con expiraciÃ³n
âœ… CORS configurado
âœ… ValidaciÃ³n en frontend y backend
âœ… Middleware de autenticaciÃ³n
âœ… Manejo de errores seguro


NOTAS IMPORTANTES
=================

1. Este proyecto estÃ¡ LISTO PARA DESCARGAR
2. NO necesita cambios de configuraciÃ³n en el cÃ³digo
3. Solo necesita:
   - MongoDB Atlas URI en .env del servidor
   - npm install en ambas carpetas
   - npm run dev en ambas carpetas

4. Puedes usar Postman para probar los endpoints
5. Todos los modelos tienen timestamps (createdAt, updatedAt)
6. El populate() automÃ¡tico en viajes trae datos completos
